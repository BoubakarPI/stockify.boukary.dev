{% extends 'main.html' %}
{% block contenu %}

<div class="container mt-4">
    <h1 class="mb-3 text-center">Liste des Produits</h1>

    <form class="d-flex">
        <input class="form-control me-2" type="search" name="recherche" placeholder="Rechercher un produit..." aria-label="Recherche">
        <button class="btn btn-outline-success" type="submit">Rechercher</button>
    </form>

    <br>

   
        
        <div class="row">
            {% for product in products %}
                <div class="col-md-4 mb-4">
                    <div class="card" style="width: 15rem;">
                        <img src="{{ product.thumbnail.url }}" class="card-img-top" alt="{{ product.name }}">
                        <div class="card-body">
                          <h5 class="card-title">{{ product.name }}</h5>
                              </div>
                       
                        <div class="card-body">
                          <a href="{% url 'product_detail' product.id %}"   class="btn btn-primary">Details</a>
                          <a href="{% url 'ajouter_commande' product.id %}"  class="btn btn-success">Commander</a>
                        </div>
                      </div>
                  <!--  <div class="card">
                        <img src="{{ product.thumbnail.url }}" class="card-img-top" alt="{{ product.name }}">
                        <div class="card-body">
                            <h5 class="card-title">{{ product.name }}</h5>
                            <a href="{% url 'product_detail' product.id %}" class="btn btn-primary">Voir Détails</a>
                            <a href="{% url 'ajouter_commande' product.id %}" class="btn btn-success">Commander</a>
                        </div>
                    </div>-->
                </div>
            {% empty %}
                <p>Aucun produit dans cette catégorie.</p>
            {% endfor %}
        </div>

        <!-- Pagination -->
<nav>
    <ul class="pagination">
        {% if products.has_previous %}
            <li class="page-item"><a class="page-link" href="?page=1">⏪ Première</a></li>
            <li class="page-item"><a class="page-link" href="?page={{ products.previous_page_number }}">⬅️ Précédente</a></li>
        {% endif %}

        <li class="page-item active"><span class="page-link">Page {{ products.number }} / {{ products.paginator.num_pages }}</span></li>

        {% if products.has_next %}
            <li class="page-item"><a class="page-link" href="?page={{ products.next_page_number }}">Suivante ➡️</a></li>
            <li class="page-item"><a class="page-link" href="?page={{ products.paginator.num_pages }}">Dernière ⏩</a></li>
        {% endif %}
    </ul>
</nav>

    

</div>

{% endblock %}
